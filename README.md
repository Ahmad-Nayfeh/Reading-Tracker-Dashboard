# 📖 لوحة تحكم تتبع القراءة (النسخة المحلية - SQLite)

<div dir="rtl">

[![Python](https://img.shields.io/badge/Python-3.9%2B-blue?logo=python)](https://www.python.org/)
[![Streamlit](https://img.shields.io/badge/Streamlit-1.25%2B-red?logo=streamlit)](https.streamlit.io/)
[![SQLite](https://img.shields.io/badge/Database-SQLite-blue.svg)](https://www.sqlite.org/)

---

### 🛑 **ملاحظة هامة جداً: هذا المستودع مؤرشف**

هذا المستودع يحتوي على النسخة **الأولى** من المشروع، والتي تعتمد على قاعدة بيانات محلية (`SQLite`). هذه النسخة مثالية للتشغيل على جهازك الشخصي لأغراض التجربة والتطوير.

**التطوير الفعلي والمستقبلي للمشروع قد انتقل إلى مستودع جديد يعتمد على بنية سحابية بالكامل (`Firebase Firestore`) ليدعم الاستخدام الجماعي والنشر على الإنترنت.**

**للحصول على أحدث نسخة من المشروع، يرجى زيارة المستودع الجديد:**
### 🔗 **[Reading-Tracker-Dashboard-Cloud](https://github.com/Ahmad-Nayfeh/Reading-Tracker-Dashboard-Cloud)**

---

## 🎯 عن المشروع

لوحة تحكم تفاعلية مصممة لتتبع تحديات القراءة لمجموعة من المستخدمين. يقوم التطبيق بسحب بيانات القراءة المسجلة عبر Google Forms، ومن ثم يعالجها ويحللها لعرض إحصائيات غنية ورسوم بيانية جذابة، بالإضافة إلى إنشاء تقارير PDF مخصصة باللغة العربية.



## ✨ الميزات الرئيسية

- **لوحة تحكم شاملة:** عرض إحصائيات عامة لجميع المشاركين والتحديات.
- **تحليلات مخصصة:** صفحات خاصة بكل تحدي لعرض تفاصيله ونتائج المشاركين فيه.
- **تكامل مع خدمات جوجل:** ربط آمن مع حساب جوجل لسحب البيانات من Google Sheets.
- **توليد تقارير PDF:** إنشاء تقارير احترافية ومنسقة تدعم اللغة العربية بشكل كامل.
- **إدارة المستخدمين والتحديات:** واجهة بسيطة لإدارة بيانات الأعضاء، الكتب، وتفاصيل التحديات.
- **قاعدة بيانات محلية:** يعمل بشكل كامل على جهازك دون الحاجة لأي إعدادات سحابية معقدة.

## 🛠️ التقنيات المستخدمة

- **لغة البرمجة:** Python
- **واجهة المستخدم:** Streamlit
- **معالجة البيانات:** Pandas
- **الرسوم البيانية:** Plotly
- **قاعدة البيانات:** SQLite
- **الربط مع جوجل:** gspread & Google OAuth
- **تقارير PDF:** FPDF2

---

## 🚀 دليل الإعداد والتشغيل

لتشغيل هذا المشروع على جهازك المحلي، اتبع الخطوات التالية بالتفصيل:

### الخطوة 1: استنساخ المستودع

افتح الطرفية (Terminal) وقم بنسخ المستودع إلى جهازك باستخدام الأمر التالي:
```bash
git clone https://github.com/Ahmad-Nayfeh/Reading-Tracker-Dashboard.git
cd Reading-Tracker-Dashboard
```

### الخطوة 2: إعداد مشروع Google Cloud والحصول على الصلاحيات

هذا التطبيق يحتاج إلى صلاحيات لقراءة البيانات من Google Sheets.

1.  اذهب إلى [Google Cloud Console](https://console.cloud.google.com/).
2.  أنشئ مشروعًا جديدًا (New Project).
3.  من القائمة الجانبية، اذهب إلى `APIs & Services > Library`.
4.  ابحث عن وتمكين الـ APIs التالية:
    * **Google Drive API**
    * **Google Sheets API**
5.  الآن، اذهب إلى `APIs & Services > OAuth consent screen`:
    * اختر `External` ثم `Create`.
    * املأ البيانات المطلوبة (اسم التطبيق، إيميل الدعم).
    * في صفحة `Scopes`، لا تقم بإضافة أي شيء واضغط `Save and Continue`.
    * في صفحة `Test users`، أضف حساب جوجل الخاص بك الذي ستسجل الدخول به.
6.  أخيرًا، اذهب إلى `APIs & Services > Credentials`:
    * اضغط على `+ CREATE CREDENTIALS` واختر `OAuth client ID`.
    * اختر `Desktop app` كنوع للتطبيق.
    * بعد الإنشاء، اضغط على أيقونة التنزيل للحصول على ملف الصلاحيات. **سيتم تنزيل ملف باسم `client_secret_....json`.**

### الخطوة 3: تجهيز بيئة العمل وتثبيت الحزم

نوصي بشدة باستخدام بيئة افتراضية (virtual environment) للحفاظ على نظافة حزم بايثون.

```bash
# إنشاء بيئة افتراضية
python -m venv venv

# تفعيل البيئة على (macOS/Linux)
source venv/bin/activate

# تفعيل البيئة على (Windows)
.\venv\Scripts\activate

# تثبيت جميع المكتبات المطلوبة
pip install -r requirements.txt
```

### الخطوة 4: وضع ملف الصلاحيات في المشروع

- قم بإعادة تسمية ملف `client_secret_....json` الذي قمت بتنزيله إلى `client_secret.json` فقط.
- **ضع هذا الملف في المجلد الرئيسي للمشروع** (نفس المكان الذي يوجد به ملف `app.py`).

### الخطوة 5: تهيئة قاعدة البيانات

قبل تشغيل التطبيق لأول مرة، يجب عليك إنشاء قاعدة البيانات والجداول الخاصة بها. قم بتشغيل السكربت التالي مرة واحدة فقط:

```bash
python database_setup.py
```
سيؤدي هذا الأمر إلى إنشاء ملف جديد باسم `reading_tracker.db` في المجلد `data`.

### الخطوة 6: تشغيل التطبيق

أنت الآن جاهز تمامًا! قم بتشغيل التطبيق باستخدام الأمر التالي:

```bash
streamlit run app.py
```

سيفتح التطبيق تلقائيًا في متصفحك. عند أول تشغيل، سيطلب منك الربط مع حساب جوجل الذي أضفته كـ "Test User".

---

## 📂 بنية المشروع

```
.
├── 📄 .gitignore           # ملف لتجاهل الملفات غير المرغوب فيها من Git
├── 🐍 app.py               # الملف الرئيسي لواجهة Streamlit
├── 🐍 auth_manager.py      # مدير المصادقة مع جوجل (OAuth2)
├── 🐍 database_setup.py    # سكربت لتهيئة قاعدة البيانات لأول مرة
├── 🐍 db_manager.py        # مدير عمليات قاعدة البيانات (قراءة وكتابة)
├── 🐍 main.py              # يحتوي على منطق مزامنة البيانات وحساب الإحصائيات
├── 🐍 pdf_reporter.py      # مسؤول عن إنشاء وتصدير تقارير PDF
└── 📄 requirements.txt     # قائمة المكتبات والحزم المطلوبة
```